<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>dejafu-0.2.0.0: Overloadable primitives for testable, potentially non-deterministic, concurrency.</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">dejafu-0.2.0.0: Overloadable primitives for testable, potentially non-deterministic, concurrency.</p></div><div id="content"><div id="description"><h1>dejafu-0.2.0.0: Overloadable primitives for testable, potentially non-deterministic, concurrency.</h1><div class="doc"><p><em>[D&#233;j&#224; Fu is] A martial art in which the user's limbs move in time as well as space, [&#8230;] It is best described as &quot;the feeling that you have been kicked in the head this way before&quot;</em> -- Terry Pratchett, Thief of Time</p><p>Concurrency is nice, deadlocks and race conditions not so much. The
<code>Par</code> monad family, as defined in
<a href="https://hackage.haskell.org/package/abstract-par/docs/Control-Monad-Par-Class.html">abstract-par</a>
provides deterministic parallelism, but sometimes we can tolerate a
bit of nondeterminism.</p><p>This package provides a class of monads for potentially
nondeterministic concurrency, with an interface in the spirit of
GHC's normal concurrency abstraction.</p><h2><code>MonadConc</code> with <code>IO</code>:</h2><p>The intention of the <code>MonadConc</code> class is to provide concurrency
where any apparent nondeterminism arises purely from the scheduling
behaviour. To put it another way, a given computation, parametrised
with a fixed set of scheduling decisions, is deterministic. This
assumption is used by the testing functionality provided by
Test.DejaFu.</p><p>Whilst this assumption may not hold in general when <code>IO</code> is
involved, you should strive to produce test cases where it does.</p><h2>Memory Model</h2><p>The testing functionality supports a few different memory models,
for computations which use non-synchronised <code>CRef</code> operations. The
supported models are:</p><ul><li><strong>Sequential Consistency:</strong> A program behaves as a simple
interleaving of the actions in different threads. When a CRef is
written to, that write is immediately visible to all threads.</li><li><strong>Total Store Order (TSO):</strong> Each thread has a write buffer. A
thread sees its writes immediately, but other threads will only
see writes when they are committed, which may happen later. Writes
are committed in the same order that they are created.</li><li><strong>Partial Store Order (PSO):</strong> Each CRef has a write buffer. A
thread sees its writes immediately, but other threads will only
see writes when they are committed, which may happen later. Writes
to different CRefs are not necessarily committed in the same order
that they are created.</li></ul><p>If a testing function does not take the memory model as a parameter,
it uses TSO.</p><p>See the <a href="https://github.com/barrucadu/dejafu">README</a> for more
details.</p></div></div><div id="module-list"><p class="caption">Modules</p><ul><li><span id="control.n.1" class="module collapser" onclick="toggleSection('n.1')">Control</span><ul id="section.n.1" class="show"><li><span id="control.n.1.1" class="module collapser" onclick="toggleSection('n.1.1')">Concurrent</span><ul id="section.n.1.1" class="show"><li><span class="module"><span id="control.n.1.1.1" class="collapser" onclick="toggleSection('n.1.1.1')">&nbsp;</span><a href="Control-Concurrent-CVar.html">Control.Concurrent.CVar</a></span><ul id="section.n.1.1.1" class="show"><li><span class="module"><a href="Control-Concurrent-CVar-Strict.html">Control.Concurrent.CVar.Strict</a></span></li></ul></li><li><span id="control.n.1.1.2" class="module collapser" onclick="toggleSection('n.1.1.2')">STM</span><ul id="section.n.1.1.2" class="show"><li><span class="module"><a href="Control-Concurrent-STM-CTMVar.html">Control.Concurrent.STM.CTMVar</a></span></li><li><span class="module"><a href="Control-Concurrent-STM-CTVar.html">Control.Concurrent.STM.CTVar</a></span></li></ul></li></ul></li><li><span id="control.n.1.2" class="module collapser" onclick="toggleSection('n.1.2')">Monad</span><ul id="section.n.1.2" class="show"><li><span id="control.n.1.2.1" class="module collapser" onclick="toggleSection('n.1.2.1')">Conc</span><ul id="section.n.1.2.1" class="show"><li><span class="module"><a href="Control-Monad-Conc-Class.html">Control.Monad.Conc.Class</a></span></li></ul></li><li><span id="control.n.1.2.2" class="module collapser" onclick="toggleSection('n.1.2.2')">STM</span><ul id="section.n.1.2.2" class="show"><li><span class="module"><a href="Control-Monad-STM-Class.html">Control.Monad.STM.Class</a></span></li></ul></li></ul></li></ul></li><li><span id="control.n.2" class="module collapser" onclick="toggleSection('n.2')">Data</span><ul id="section.n.2" class="show"><li><span id="control.n.2.1" class="module collapser" onclick="toggleSection('n.2.1')">List</span><ul id="section.n.2.1" class="show"><li><span class="module"><a href="Data-List-Extra.html">Data.List.Extra</a></span></li></ul></li></ul></li><li><span id="control.n.3" class="module collapser" onclick="toggleSection('n.3')">Test</span><ul id="section.n.3" class="show"><li><span class="module"><span id="control.n.3.1" class="collapser" onclick="toggleSection('n.3.1')">&nbsp;</span><a href="Test-DejaFu.html">Test.DejaFu</a></span><ul id="section.n.3.1" class="show"><li><span class="module"><span id="control.n.3.1.1" class="collapser" onclick="toggleSection('n.3.1.1')">&nbsp;</span><a href="Test-DejaFu-Deterministic.html">Test.DejaFu.Deterministic</a></span><ul id="section.n.3.1.1" class="show"><li><span class="module"><span id="control.n.3.1.1.1" class="collapser" onclick="toggleSection('n.3.1.1.1')">&nbsp;</span><a href="Test-DejaFu-Deterministic-Internal.html">Test.DejaFu.Deterministic.Internal</a></span><ul id="section.n.3.1.1.1" class="show"><li><span class="module"><a href="Test-DejaFu-Deterministic-Internal-Common.html">Test.DejaFu.Deterministic.Internal.Common</a></span></li><li><span class="module"><a href="Test-DejaFu-Deterministic-Internal-Memory.html">Test.DejaFu.Deterministic.Internal.Memory</a></span></li><li><span class="module"><a href="Test-DejaFu-Deterministic-Internal-Threading.html">Test.DejaFu.Deterministic.Internal.Threading</a></span></li></ul></li><li><span class="module"><a href="Test-DejaFu-Deterministic-Schedule.html">Test.DejaFu.Deterministic.Schedule</a></span></li></ul></li><li><span class="module"><a href="Test-DejaFu-Internal.html">Test.DejaFu.Internal</a></span></li><li><span class="module"><span id="control.n.3.1.3" class="collapser" onclick="toggleSection('n.3.1.3')">&nbsp;</span><a href="Test-DejaFu-SCT.html">Test.DejaFu.SCT</a></span><ul id="section.n.3.1.3" class="show"><li><span class="module"><a href="Test-DejaFu-SCT-Internal.html">Test.DejaFu.SCT.Internal</a></span></li></ul></li><li><span class="module"><span id="control.n.3.1.4" class="collapser" onclick="toggleSection('n.3.1.4')">&nbsp;</span><a href="Test-DejaFu-STM.html">Test.DejaFu.STM</a></span><ul id="section.n.3.1.4" class="show"><li><span class="module"><a href="Test-DejaFu-STM-Internal.html">Test.DejaFu.STM.Internal</a></span></li></ul></li></ul></li></ul></li></ul></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>